---
title: "AEM | Fulltext search"
description: Beschrijving
solution: Experience Manager as a Cloud Service,Experience Manager
product: Experience Manager as a Cloud Service,Experience Manager
applies-to: "Experience Manager as a Cloud Service,Experience Manager 6.5"
keywords: "KCS, Index, Indexing, Search, Fulltext search, Fulltext"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Cedric Latimier
article-created-date: "7/27/2023 11:58:05 AM"
article-published-by: Cedric Latimier
article-published-date: "7/27/2023 12:00:53 PM"
version-number: 2
article-number: KA-22521
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=0bffe5d6-742c-ee11-bdf4-6045bd006239"
source-git-commit: 0959530a37cf2241ee22122c302430e549f8455d
workflow-type: tm+mt
source-wordcount: '436'
ht-degree: 4%

---

# AEM | Volledige tekst zoeken

## Beschrijving {#description}


Dit artikel is van toepassing op Apache Lucene, Elasticsearch en fullText-indexen van bijvoorbeeld PostgreSQL, SQLite en MySQL. 
Het volgende voorbeeld is voor AEM / Eak / Lucene.

<b>Te indexeren gegevens</b>

Het begint met de gegevens die moeten worden geïndexeerd. Laten we zeggen dat we de volgende documenten hebben


| <b>Document-id</b> | <b>Pad</b> | <b>Fulltext</b> |
| --- | --- | --- |
| 100 | /content/rubik | &quot;Rubik is een Fins merk.&quot; |
| 200 | /content/rubiksCube | &quot;De Rubiks kubus werd uitgevonden in 1974.&quot; |
| 300 | /content/cube | &quot;Een kubus is een driedimensionaal object.&quot; |


<b>Omgekeerde index</b>

Het indexeringsmechanisme verdeelt de volledige tekst in woorden (genoemd &quot;tokens&quot;) en bouwt een index (genoemd &quot;omgekeerde index&quot;om één of andere reden). Deze index bevat voor elk woord de lijst met documenten waarin het wordt weergegeven. 
Heel korte woorden (&quot;stopwords&quot;) worden niet geïndexeerd. Alle tokens worden omgezet in kleine letters en stammen wordt toegepast (bijv. meervoudig naar enkelvoudig).
Speciale tekens zoals &quot;-&quot; worden niet geïndexeerd.


| <b>Token</b> | <b>Document-id&#39;s</b> |
| --- | --- |
| 194 | ..., 200,... |
| merk | ..., 100,... |
| kubus | ..., 200, 300,... |
| dimensie | 300 |
| fineren | ..., 100,... |
| uitvinden | 200 |
| object | ..., 300,... |
| rubik | .., 100, 200,... |


De lijst met documenten is gesorteerd. Dit zal handig worden als je vraagt.

<b>Zoeken</b>

Nu zoeken we (we hebben alle speciale tekens zoals &#39; vervangen door een spatie):

/jcr:root/content//element(\*; cq:Page)`[` jcr:contains(&#39;Rubik s Cube&#39;)`]`

De woorden worden op dezelfde manier verdeeld en gefilterd als bij het indexeren (woorden van één teken worden bijvoorbeeld verwijderd). We zoeken dus naar:

+:fulltext:rubik +:fulltext:kubus

De index zal dan de lijst van documenten voor die woorden raadplegen. Als er veel documenten zijn, kunnen de lijsten zeer groot zijn. Laten we het volgende zeggen:


| <b>Token</b> | <b>Document-id&#39;s</b> |
| --- | --- |
| rubik | 10, 100, 200, 1000 |
| kubus | 30, 200, 300, 2000 |


Lucene draait nu heen en weer tussen de twee lijsten (of round-robin in lijsten, bij het zoeken naar n woorden):

- Lees in het &#39;rubik&#39; en krijg de eerste vermelding: we vinden 10
- Lees in de &quot;kubus&quot; om het eerste item op te halen `>` = 10. 10 is niet gevonden, de volgende is 30.
- Lees de &quot;rubik&quot; en krijg de eerste vermelding `>` = 30 : er zijn er 100 .
- Lees in de &quot;kubus&quot; om het eerste item op te halen `>` = 100 : we vinden er 200 .
- Lees de &quot;rubik&quot; en krijg de eerste vermelding `>` = 200. 200 is gevonden! Document 200 bevat dus een overeenkomst voor beide termen! Dit wordt onthouden.
- Lees in het &quot;rubik&quot; de volgende vermelding: 1000.
- Lees in de &quot;kubus&quot; om het eerste item op te halen `>` = 1000 : 2000 .
- Lees de &quot;rubik&quot; en krijg de eerste vermelding `>` = 2000: einde van de lijst.
- Nu kunnen we stoppen.


Het enige gevonden document dat beide termen bevat, is 200, het document


| 200 | /content/rubiksCube | &quot;De Rubiks kubus werd uitgevonden in 1974.&quot; |
| --- | --- | --- |



## Resolutie {#resolution}


Wanneer er meerdere items worden gevonden, worden deze op score gesorteerd. Dit wordt hier niet beschreven.
