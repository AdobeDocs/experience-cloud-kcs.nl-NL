---
title: "Wijzigingen in GraphQL-verwerking van null-waarden | AEM"
description: Beschrijving
solution: Experience Manager as a Cloud Service
product: Experience Manager as a Cloud Service
applies-to: "Experience Manager as a Cloud Service"
keywords: "KCS, Adobe Experience Manager, GraphQL"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "4/12/2023 12:07:13 PM"
article-published-by: Amol Mahajan
article-published-date: "4/12/2023 2:31:09 PM"
version-number: 4
article-number: KA-21792
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=d2dcaa8a-2ad9-ed11-a7c7-6045bd006149"
source-git-commit: 593863eda118505df324baf4ba5a89d9e5f4a805
workflow-type: tm+mt
source-wordcount: '692'
ht-degree: 0%

---

# Wijzigingen in GraphQL-verwerking van null-waarden | AEM

## Beschrijving {#description}

<b>Omgeving</b><br><br>Experience Manager as a Cloud Service<br><br> <br><br><b>Probleem/symptomen</b><br><br>In de release 2023.02.11382 zijn enkele verbeteringen aangebracht in de <b>GraphQL</b> (Open-Source Query Language)-implementatie die onverwacht gedrag in de toepassingscode kan veroorzaken, in het geval dat deze afhankelijk was van het foutieve gedrag van de oudere versies. 
<br>Met de onderstaande resolutie kunt u bereiken dat Adobe Experience Manager (AEM GraphQL) nu inhoud retourneert met *null* waarden consistent over alle filterbewerkingen. <br>

## Resolutie {#resolution}

`CONTAINS_NOT` en *null* waarden<br> <br>De eerste wijziging is van invloed op de filtervoorwaarden waarbij de `CONTAINS_NOT` operator. In vorige releases wordt deze `CONTAINS_NOT` heeft geen inhoudsfragmenten geretourneerd die *null* waarden in het veld waarop de filtervoorwaarde is toegepast. Dit is inconsistent met vergelijkbare operatoren zoals `EQUALS_NOT` of `NOT_AT`.<br>Controleer of uw clienttoepassing de verwerking kan uitvoeren *null* waarden die door AEM worden geretourneerd bij gebruik `CONTAINS_NOT`.<br> <br><b>Voorbeeld:</b>

| <b>Fragment filteren</b> | <b>Gegevens</b> | <b>Resultaat vóór 2023.02.11382</b> | <b>Resultaat vanaf 2023.02.11382</b> |
| --- | --- | --- | --- |
| myField: {<br>    waarde: &quot;frag&quot;, <br>    _op: CONTAINS_NOT<br>} | <br>    {<br>        myField: null<br>    }, <br>    {<br>        myField: &quot;Sommige tekst&quot;<br>    },<br>    {<br>        myField: &quot;Tekstfragment&quot;<br>    }<br> | <br>    {<br>        myField: &quot;Sommige tekst&quot;<br>    }<br> | <br>    {<br>        myField: null<br>    },<br>    {<br>        myField: &quot;Sommige tekst&quot;<br>    }<br> |

<br>Modi toepassen `ALL_OR_EMPTY/ALL` en *null* waarden<br>
Een andere kwestie die in 2023.02.11382 werd vastgesteld, houdt verband met *null* waarden in filtervoorwaarden op velden met meerdere waarden. Toepassen, modus `ALL_OR_EMPTY` (op arrays/velden met meerdere waarden) retourneert geen fragmenten met *null* waarden voor het betreffende veld, en daarom werkte het zoals u zou verwachten voor het `ALL` methode toepassen. Tegelijkertijd wordt een veld met meerdere waarden gefilterd met de modus Toepassen `ALL` fragmenten met lege inhoud voor dat veld zou bevatten, maar dat mag niet. Het wordt geadviseerd om de vragen te testen die één van deze gebruiken zijn wijzen van toepassing en hen te veranderen als zij niet het verwachte resultaat terugkeren dat in 2023.02.11382 wordt geplaatst.

Merk op dat het probleem alleen voor sommige operatoren bestond (vóór 2023.02.11382).
Bijvoorbeeld: `EQUALS_NOT` naar verwachting gewerkt voor de toepassingsmethode `ALL_OR_EMPTY`overwegende `CONTAINS` niet.
<b>Voorbeeld:</b>

| <b>Fragment filteren</b> | <b>Gegevens</b> | <b>Resultaat vóór 2023.02.11382</b> | <b>Resultaat vanaf 2023.02.11382</b> |
| --- | --- | --- | --- |
| myArray: {<br>  _expressies: {<br>    waarde: &quot;1.3&quot;<br>    _operator: EQUALS_NOT<br>    _toepassen: ALLES<br>  }<br>} | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: &quot;1.1&quot;, &quot;1.2&quot;, &quot;1.3&quot; <br>  },<br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> | <br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> |
| myArray: {<br>  _expressies: {<br>    waarde: &quot;2.&quot;<br>    _operator: BEVATTEN<br>    _toepassen: ALL_OR_EMPTY<br>  }<br>} | <br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> |

<br>Modus toepassen: `INSTANCES`, `_instances: 0` en *null* waarden<br>
De laatste kwestie houdt ook verband met *null* waarden in filtervoorwaarden op velden met meerdere waarden. Toepassen, modus `INSTANCES` with`_instances: 0` kwam niet overeen met de inhoudsfragmenten die *null* waarden in het desbetreffende veld vóór 2023.02.11382, maar het begint met 2023.02.11382. Het wordt geadviseerd om de vragen te testen die deze constellatie gebruiken en hen te veranderen als zij niet het verwachte resultaat meer terugkeren dat in 2023.02.11382 wordt geplaatst.
<b>Voorbeeld:</b>

| <b>Fragment filteren</b> | <b>Gegevens</b> | <b>Resultaat vóór 2023.02.11382</b> | <b>Resultaat vanaf 2023.02.11382</b> |
| --- | --- | --- | --- |
| myArray: {<br>  _expressies: {<br>    waarde: &quot;2.&quot;<br>    _operator: BEVATTEN<br>    _toepassen: INSTANTIES<br>    _instanties: 0<br>  }<br>} | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: &quot;1.1&quot;, &quot;1.2&quot;, &quot;1.3&quot; <br>  },<br>  {<br>    myArray: &quot;2.1&quot;, &quot;2.2&quot;, &quot;2.3&quot; <br>  }<br> | <br>  {<br>    myArray: &quot;1.1&quot;, &quot;1.2&quot;, &quot;1.3&quot; <br>  }<br> | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: &quot;1.1&quot;, &quot;1.2&quot;, &quot;1.3&quot; <br>  }<br> |

<br>Verbeteringen die klanten met kunnen beïnvloeden `ft-sites-97` enabled<br>
Klanten met de `ft-sites-97`*(GraphQL-paginering en geoptimaliseerde filtering)* functiemarkering ingeschakeld *voor*release 2023.02.11382 kan na een upgrade naar 2023.02.11382 een of meer van de volgende gedragswijzigingen ervaren. Klanten die deze functiemarkering niet hebben ingeschakeld, worden niet beïnvloed door deze sectie.
<br>null-afhandeling met voorwaarden die op niet-gelijkheid controleren<br>
Fragmentvelden met *null* De waarden kwamen af en toe niet overeen met de filters die op niet-gelijkheid controleerden.

Als uw code afhankelijk is van het feit dat deze fragmenten niet worden geretourneerd, moet u de code aanpassen om rekening te houden met het verwachte gedrag.


| <b>Fragment filteren</b> | <b>Gegevens</b> | <b>Resultaat van de tussentijdse uitvoering</b> | <b>Resultaat van de definitieve uitvoering</b> |
| --- | --- | --- | --- |
| myField: {<br>  waarde: &quot;Some text&quot;,<br>  _op: EQUALS_NOT<br>} | <br>  {<br>    myField: null<br>  },<br>  {<br>    myField: &quot;Sommige tekst&quot;<br>  },<br>  {<br>    myField: &quot;Tekstfragment&quot;<br>  }<br> | <br>  {<br>    myField: &quot;Sommige tekst&quot;<br>  }<br> | <br>  {<br>    myField: null<br>  },<br>  {<br>    myField: &quot;Sommige tekst&quot;<br>  }<br> |

<br>Filteroperator `NOT_AT` met datum-/tijdwaarden<br>
Filteroperator `NOT_AT` Werkt soms niet correct met waarden voor gegevens/tijden. In plaats daarvan werkte het meer zoals `AFTER` voorwaarde. 
Als uw code op het onjuiste gedrag baseert, zou u de filtervoorwaarde aan moeten schakelen `AFTER`.
<br>Arrays: `INSTANCES` with `_instances: 0` werkt niet correct<br>
Filtervoorwaarde `INSTANCES` (op arrays/velden met meerdere waarden) met `_instances` 0 die soms niet werkte zoals u had verwacht, heeft niets teruggegeven waar dat eigenlijk wel zou moeten zijn.

Filterfragmenten die door dit probleem worden beïnvloed, zien er als volgt uit: `doubleArray: { _expressions: { value: 0, _operator: GREATER, _apply: INSTANCES, _instances: 0 } }`

Als u op het onjuiste gedrag vertrouwde, moet u uw vraag herschrijven om de zelfde resultaten terug te keren zoals voordien.


| <b>Fragment filteren</b> | <b>Gegevens</b> | <b>Resultaat van de tussentijdse uitvoering</b> | <b>Resultaat van de definitieve uitvoering</b> |
| --- | --- | --- | --- |
| myArray: {<br>  _expressies: {<br>    waarde: 20<br>    _operator: GELIJK<br>    _toepassen: INSTANTIES<br>    _instanties: 0<br>  }<br>} | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: 10, 20, 30 <br>  },<br>  {<br>    myArray: 11, 12, 13 <br>  }<br> |  | <br>  {<br>    myArray: null<br>  },<br>  {<br>    myArray: 11, 12, 13 <br>  }<br> |

