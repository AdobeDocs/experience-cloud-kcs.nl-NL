---
title: "AEM richt terug naar http wanneer betreden door SSL/TLS geëindigd de Balancer van de Lading"
description: "Leer hoe u het AEM probleem kunt oplossen waarbij u terugkeert naar http wanneer u toegang krijgt tot AEM via SSL/TLS beëindigde Load Balancer."
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, AEM wordt opnieuw omgeleid naar http, SSL/TLS beëindigde Load Balancer"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/AEM-redirecting-back-to-http-on-accessed-via-SSL-terminated-Load-Balancer.html"
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "4/6/2024 1:02:31 AM"
article-published-by: Nayanika Chakravarty
article-published-date: "4/6/2024 1:18:10 AM"
version-number: 3
article-number: KA-16936
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=0e02b555-b1f3-ee11-904b-0022480a40c2"
source-git-commit: 9a0f496341c426e74804890f92a2b837e9bc7b57
workflow-type: tm+mt
source-wordcount: '406'
ht-degree: 1%

---

# AEM richt terug naar http wanneer betreden door SSL/TLS geëindigde Balancer van de Lading


In dit artikel wordt de kwestie van de Experience Manager besproken waar u van wordt omgeleid *https* tot *http* wanneer het proberen om tot het door SSL geëindigde Balancer van de Lading (of SSL geëindigde CDN) toegang te hebben.

## Beschrijving {#description}


### <b>Omgeving</b>

Experience Manager

### <b>Problemen/symptomen</b>

Wanneer het toegang tot van AEM door SSL geëindigde de Balancer van de Lading (of SSL geëindigde CDN), dan AEM terug van https aan http.

SSL-beëindiging bij het taakverdelingsmechanisme betekent dat de SSL-certificaten in het taakverdelingsmechanisme zijn geïnstalleerd. De eindgebruiker heeft toegang tot de site via https://, en de Server en AEM Dispatcher/Web worden op het achterste einde benaderd met http://.




## Resolutie {#resolution}


U kunt als volgt het probleem verhelpen:

<b>I.De configuratie van Dispatcher /clientheaders bijwerken</b>

Raadpleeg de documentatie bij het taakverdelingsmechanisme om te weten te komen welke header wordt ingesteld om downstreamsystemen op de hoogte te brengen van het feit dat het SSL heeft beëindigd. Voor de eenvoud gaan we er in deze stappen van uit dat de juiste HTTP-header &quot;*X-Forwarded-Proto: https*&quot;

1. Meld u aan bij de verzenderserver.
2. Open het verzenderslandbouwbedrijf.om het even welke configuratie.
3. Voeg de kopbal aan de /clientheaders sectie toe.


Als u een dispatcher gebruikt zonder taakverdelingsmechanisme of als uw taakverdelingsmechanisme of proxy er niet in slaagt de *X-Forwarded-Proto* , kunt u deze op het niveau van de webserver of de verzender instellen. Als u *Apache HTTP* Server, dan werk uw *HTTPS VirtualHost* met deze richtlijn :


| 1 | `RequestHeader ` `set` `X-Forwarded-Proto ` `"https"` |
| --- | --- |


<b>II. Werk de configuraties van de Kopbal bij:</b>

1. Ga naar `http://host:port/system/console/configMgr/org.apache.felix.http.sslfilter.SslFilter`en meld u aan als beheerder.
2. Set *SSL* forward header to *X-Forwarded-Proto.*
3. Set *SSL* waarde doorsturen naar *https*.
4. Klikken <b>Opslaan</b>.


<b>Opmerking:</b>

Er is geen norm voor omgekeerde volmachtskopballen die het achtereind vertellen welk protocol wordt gebruikt. Er zijn echter een aantal zaken die bekend zijn:

- Amazon ELB (Elastic Load Balancer) gebruikt de header &quot;X-Forwarded-Proto: https&quot;.
- Amazon Cloudfront CDN gebruikt de header &quot;X-Cloudfront-Proto: https&quot;.


<b>III. Werk de Configuratie van Jetty OSGi (AEM 6.3 en recentere versies) bij</b>

Voor AEM 6.3 en recentere versies, is er een extra vereiste configuratie:

- Aanmelden bij `http://aem-host:port/system/console/configMgr/org.apache.felix.http.`
- De instelling inschakelen <b>Proxy/Load Balancer Connection inschakelen</b>en sla deze op.


### Oorzaak

Verschillende taakverdelingsfuncties sturen verschillende headers om aan de back-end systemen te melden dat *SSL* wordt stroomopwaarts beëindigd. Bijvoorbeeld: [Amazon ELB gebruikt de header &quot;X-Forwarded-Proto: https&quot;](https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html#x-forwarded-proto).
