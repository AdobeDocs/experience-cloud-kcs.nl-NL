---
title: "VerzendVanity-URL's"
description: "Leer hoe AEM omgaat met ijdelheidsURL's en enkele aanvullende technieken, zoals het gebruik van herschrijfregels om inhoud dichter bij de rand van levering in kaart te brengen."
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, ijdeloze URL's, AEM, ervaringsmanager, herschrijfregels"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "4/8/2024 11:03:25 AM"
article-published-by: Nayanika Chakravarty
article-published-date: "4/8/2024 1:01:29 PM"
version-number: 5
article-number: KA-17463
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=4683d89c-97f5-ee11-a1fe-6045bd006295"
source-git-commit: 8ed97e234a68bb7c7aa1e18d12bfed0a5e5a2b9f
workflow-type: tm+mt
source-wordcount: '945'
ht-degree: 0%

---

# URL&#39;s van waarheidsgetrouwheid van afzender


Dit document helpt u begrijpen hoe AEM omgaat met ijdelheidsURL&#39;s en enkele aanvullende technieken, zoals het gebruik van herschrijfregels om inhoud dichter bij de rand van levering in kaart te brengen.

## Beschrijving {#description}


### Omgeving

Experience Manager

### Problemen/symptomen

Hoe gaat AEM om met ijdelheid-URL&#39;s? Zijn er extra technieken om inhoud dichter aan de rand van levering in kaart te brengen?

#### Wat zijn Vanity URLs?

Wanneer u inhoud hebt die in een omslagstructuur leeft die steek houdt het niet altijd in een URL leeft die gemakkelijk om is te verwijzen. Vanity URL&#39;s zijn vergelijkbaar met sneltoetsen. Kortere of unieke URL&#39;s die verwijzen naar waar de echte inhoud zich bevindt.

Een voorbeeld: <b>*/aboutus</b> gericht <b>/content/we-retail/us/en/about-us.html</b>*

AEM Auteurs hebben de optie om URL-eigenschappen van het type vanity in te stellen voor inhoud in AEM en deze te publiceren.

Deze functie werkt alleen als u de verzenderfilters aanpast, zodat de ijdelheid erdoor heen kan. Dit wordt onredelijk te doen met het aanpassen van de de configuratiedossiers van de verzender aan het tarief dat de auteurs deze ingang van de ijdeligheidspagina zouden moeten plaatsen.

Om deze reden heeft de verzendingsmodule een functie om automatisch alles toe te staan dat als een ijdelheid in de inhoudsstructuur wordt vermeld.


## Resolutie {#resolution}


### Hoe werkt het?

#### URL&#39;s van Auteurs Vanity

De auteur bezoekt een pagina in AEM en bezoekt de pagina-eigenschappen en voegt items toe in de vanity URL-sectie.

Nadat de wijzigingen zijn opgeslagen en de pagina is geactiveerd, wordt de ijdelheid nu toegewezen aan deze pagina.

<b><u>Aanraakinterface</u>:</b>

![](assets/c1e59dbd-38b4-ed11-83fe-6045bd006149.png)

![](assets/c3e59dbd-38b4-ed11-83fe-6045bd006149.png)

<b><u>Klassieke zoeker naar inhoud</u>:</b>

![](assets/c2e59dbd-38b4-ed11-83fe-6045bd006149.png)

![](assets/c4e59dbd-38b4-ed11-83fe-6045bd006149.png)

<b>Opmerking:</b> Dit is erg kwetsbaar voor naamgeving van ruimteproblemen. Vanity-inzendingen zijn op alle pagina&#39;s algemeen, maar dit is slechts een van de tekortkomingen waarvoor u tijdelijke oplossingen moet bedenken. We zullen er later een paar toelichten.

<b><u>Resolving/toewijzing van bronnen</u>:</b>

Elk ijdelingitem is een sling map-item voor een interne omleiding. Deze kaarten zijn zichtbaar in de AEM instanties Felix console (`/system/console/jcrresolver`)

Hier is een schermafbeelding van een kaartitem dat is gemaakt door een ijdelingvermelding:

![](assets/c5e59dbd-38b4-ed11-83fe-6045bd006149.png)

In het bovenstaande voorbeeld wanneer we de AEM vragen `/aboutus` zij zal zich ertoe verbinden `/content/we-retail/us/en/about-us.html`

<b><u>Filters die automatisch worden toegestaan door Dispatcher</u>:</b>

De verzender in een veilige staat filtert uit verzoeken bij de weg/door de Dispatcher omdat dat de wortel van de boom JCR is.

Zorg ervoor dat uitgevers alleen inhoud van het `/content` en andere veilige paden enz.. en geen paden zoals `/system` enz.

Hier zijn de rub, ijdelheid URL&#39;s die in de basismap van / staan, dus hoe kunnen we ze toestaan om de uitgevers te bereiken terwijl ze veilig blijven?

Eenvoudige dispatcher heeft een automatisch filter waardoor mechanisme is toegestaan en u moet een AEM pakket installeren en vervolgens de Dispatcher configureren om naar die pakketpagina te wijzen. Bezoek [hier](https://experience.adobe.com/#/downloads/content/software-distribution/en/aem.html?package=/content/software-distribution/en/details.html/content/dam/aem/public/adobe/packages/granite/vanityurls-components) voor het AEM pakket.

De afzender heeft een configuratiesectie in zijn landbouwbedrijfdossier:


```
/vanity_urls {      /url    "/libs/granite/dispatcher/content/vanityUrls.html"
  /file   "/tmp/vanity_urls"      /delay  300 }
```


Deze configuratie instrueert de Dispatcher om deze URL van het AEM exemplaar te halen het om de 300 seconden negeert om de lijst van punten te halen wij door willen toestaan.

Het slaat het als geheim voorgeheugen van de reactie in het /file argument zo in dit voorbeeld /tmp/vanity_urls op

Als u de AEM-instantie op de URI bezoekt, ziet u wat deze ophaalt:

![](assets/c6e59dbd-38b4-ed11-83fe-6045bd006149.png)

Het is een supereenvoudige lijst.

#### Regels herschrijven als Vanity Rules

Waarom zouden wij het gebruiken van herschrijven regels in plaats van het standaardmechanisme noemen dat in AEM zoals hierboven beschreven wordt gebouwd?

Uitgelicht eenvoudig, namespace kwesties, prestaties, en hoger-vlakke logica die beter kunnen worden behandeld.

Een voorbeeld van een ijdelheidsvermelding bekijken `/aboutus` aan de inhoud `/content/we-retail/us/en/about-us.html` met Apache&#39;s `mod_rewrite` om dit te bereiken.

`RewriteRule /aboutus /content/we-retail/us/en/about-us.html PT,L,NC`

Deze regel zoekt naar de ijdelheid `/aboutus` en haalt de volledige weg van renderer met de vlag van PT (pas door).

De toepassing stopt ook met het verwerken van alle andere regels L-markering (Laatste), wat betekent dat er geen grote lijst met regels hoeft te worden doorlopen, zoals bij JCR oplossen.

Samen met het niet moeten van volmacht het verzoek en wachten op de AEM uitgever om op deze twee elementen van deze methode te antwoorden maakt het veel uitvoerbaarder.

Dan is het icing op de cake hier de vlag NC (geen case-Sensitive) die betekent als een klant URI met overvloeit `/Aboutus` in plaats van `/aboutus` het zal nog werken en zal de juiste pagina toestaan om te halen.

Als u een herschrijfregel wilt maken, maakt u een configuratiebestand op de Dispatcher (bijvoorbeeld: `/etc/httpd/conf.d/rewrites/examplevanity_rewrite.rules`) en in de `.vhost` bestand dat het domein afhandelt waarvoor deze vanity-URL&#39;s moeten worden toegepast.

Hier volgt een voorbeeld van een codefragment van de include-code in:


```
/etc/httpd/conf.d/enabled_vhosts/we-retail.vhost
 VirtualHost *:80    ServerName    weretail.com    ServerAlias 

www.weretail.com        ........ SNIP ........     IfModule mod_rewrite.c   

   ReWriteEngine    on       LogLevel warn rewrite:info

Include /etc/httpd/conf.d/rewrites/examplevanity_rewrite.rules      / IfModule         
   ........ SNIP ......../VirtualHost
```


### Welke methode en waar moet deze worden gebruikt?

A. Het gebruik van AEM om ijdelingangen te controleren heeft de volgende voordelen:

- Auteurs kunnen ze direct maken
- Ze leven met de inhoud en kunnen worden verpakt met de inhoud


B. Het gebruiken `mod_rewrite` om ijdelingangen te controleren heeft de volgende voordelen:

- Sneller inhoud oplossen
- Dichter bij de rand van verzoeken om inhoud voor eindgebruikers
- Meer uitbreidbaarheid en opties om te bepalen hoe inhoud wordt toegewezen aan andere voorwaarden
- Kan niet hoofdlettergevoelig zijn


C. Gebruik beide methoden, maar hier is het advies en de criteria die moeten worden gehanteerd wanneer:

- Als de ijdelheid tijdelijk is en lage geplande niveaus van verkeer heeft dan gebruik de AEM ingebouwde eigenschap
- Als de ijdelheid een hoofdeindpunt is dat niet vaak verandert en veelvuldig wordt gebruikt, gebruikt u een `mod_rewrite` regel.
- Als de naamruimte vanity (bijvoorbeeld: `/aboutus`) moet opnieuw worden gebruikt voor een groot aantal merken op hetzelfde AEM en vervolgens herschrijfregels gebruiken.


<b>Opmerking:</b> Als u de functie AEM ijdelheid wilt gebruiken en naamruimte wilt vermijden, kunt u een naamgevingsconventie maken. Met ijdeloze URL&#39;s die zijn genest `/brand1/aboutus, brand2/aboutus, brand3/aboutus`
