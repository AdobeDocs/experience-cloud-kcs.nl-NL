---
title: "Hoe te om IP adressen op het niveau van de Server van Apache te blokkeren HTTP?"
description: Beschrijving
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/block-ips-apache-http-server.html#remoteip_module"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 8:45:08 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 8:50:48 PM"
version-number: 8
article-number: KA-16446
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ad7893a3-6187-eb11-a812-000d3a593216"
exl-id: 70b66160-438a-4af1-9622-1e1d508cff2f
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '226'
ht-degree: 0%

---

# Hoe te om IP adressen op het niveau van de Server van Apache te blokkeren HTTP?

## Beschrijving


Onze site wordt geconfronteerd met een Denial of Service-aanval, spam of gehackt. Hoe te om IP adressen op het niveau van de Server van Apache HTTP (AEM Dispatcher) te blokkeren?


## Resolutie


De meeste Vuurmuren van de Toepassing van het Web (WAF), zoals modveiligheid, kunnen lijsten van gewezen personen van IP adressen. Nochtans, als u de Server van HTTP van Apache in werking stelt en IP zou willen blokkeren onmiddellijk deze stappen volgen:

1. Maak een bestand met de naam block-offending-ips.conf op de server.
2. Open het dossier in een redacteur en voeg een richtlijn van de Plaats toe die alle beledigende IP&#39;s verhindert tot wat URLs toegang te hebben u wilt blokkeren.  Er zijn twee opties voor de inhoud van het onderstaande bestand
   1. Als het verzoek proxied (via CDN, de Balancer van de Lading, enz.) is en IP van de verre gebruiker slechts in een Kopbal zoals x-Door:sturen-voor dan kan deze configuratie worden gebruikt.  Merk op dat deze configuratie niet van toepassing is als remoteip_module wordt gevormd.  `LocationMatch ``"/.*"````Order Allow,Deny``Allow from all``SetEnvif X-Forwarded-For ``"10\.42\.137\.123"` `DenyAccess``SetEnvif X-Forwarded-For ``"122\.6\.218\.101"` ` DenyAccess``#Repeat the "SetEnvlf X-Forwarded-For ..." for each IP you want to block``Weigeren van ``env``=DenyAccess&quot;/LocationMatch&quot;
   2. Als de externe gebruiker rechtstreeks toegang heeft tot Apache of u gebruikt remoteip_module (zie 1) om de module te extraheren en in te stellen in Apache, kunt u de functie Need van mod_authz_core rechtstreeks gebruiken (Apache 2.4).


      `LocationMatch "/.*"`


      `RequireAll`


      `Require all granted`


      `Require not ip 10.42.137.123`


      `Require not ip 122.6.218.101`


      `#Repeat the "Require not ip ..." for each IP you want to block`


      `/RequireAll`


      `/LocationMatch`


      `1`


      `# Extract true client IP from header added by load balancer/CDN`


      `IfModule remoteip_module`


      `    # valid for ELB or ELB+CloudFront`


      `    RemoteIPHeader X-Forwarded-For`


      `/IfModule`
3. Zet het bestand block-offending-ips.conf neer in de map /etc/conf.d van de Apache-webserver.
4. Start Apache HTTP Server opnieuw.
