---
title: "Hoe te om IP adressen bij te blokkeren [!DNL Apache HTTP Server] niveau?"
description: Beschrijving
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/block-ips-apache-http-server.html#remoteip_module"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 8:45:08 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 8:50:48 PM"
version-number: 8
article-number: KA-16446
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=ad7893a3-6187-eb11-a812-000d3a593216"
exl-id: 70b66160-438a-4af1-9622-1e1d508cff2f
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '193'
ht-degree: 1%

---

# Hoe te om IP adressen bij te blokkeren [!DNL Apache HTTP Server] niveau?

## Beschrijving


Onze site wordt geconfronteerd met een Denial of Service-aanval, spam of gehackt. Hoe te om IP adressen bij te blokkeren [!DNL Apache HTTP Server] (AEM Dispatcher) niveau?


## Resolutie


De meeste Vuurmuren van de Toepassing van het Web (WAF), zoals modveiligheid, kunnen lijsten van gewezen personen van IP adressen. Als u echter werkt [!DNL Apache HTTP Server] en wil IP onmiddellijk blokkeren volgt deze stappen:

1. Een bestand met de naam `block-offending-ips.conf` op uw server.
2. Open het dossier in een redacteur en voeg een richtlijn van de Plaats toe die alle beledigende IP&#39;s verhindert tot wat URLs toegang te hebben u wilt blokkeren.  Er zijn twee opties voor de inhoud van het onderstaande bestand
   1. Als het verzoek is proxied (via CDN, Load Balancer, enz.) en IP van de verre gebruiker is slechts in een Kopbal zoals `X-Forwarded-For` dan kan deze configuratie worden gebruikt.  Merk op dat deze configuratie niet van toepassing is als `remoteip_module` is geconfigureerd.  `LocationMatch ` `"/.*"` ```Order Allow,Deny``Allow from all``SetEnvif X-Forwarded-For ``"10\.42\.137\.123"` `DenyAccess``SetEnvif X-Forwarded-For ``"122\.6\.218\.101"` `DenyAccess``#Repeat the "SetEnvlf X-Forwarded-For ..." for each IP you want to block``Deny from ``env``=DenyAccess``` `/LocationMatch`
   2. Alternatief, als de verre gebruiker tot rechtstreeks toegang heeft [!DNL Apache] of u gebruikt `remoteip_module` (zie 1) de extractie uit te voeren en in te stellen binnen [!DNL Apache] dan kunt u de functie Require van mod_authz_core direct gebruiken ([!DNL Apache] 2.4).


      `LocationMatch "/.*"`


      `RequireAll`


      `Require all granted`


      `Require not ip 10.42.137.123`


      `Require not ip 122.6.218.101`


      `#Repeat the "Require not ip ..." for each IP you want to block`


      `/RequireAll`


      `/LocationMatch`


      `1`


      `# Extract true client IP from header added by load balancer/CDN`


      `IfModule remoteip_module`


      `    # valid for ELB or ELB+CloudFront`


      `    RemoteIPHeader X-Forwarded-For`


      `/IfModule`
3. Het bestand neerzetten `block-offending-ips.conf` in `/etc/conf.d` map van de [!DNL Apache] Webserver.
4. Start de [!DNL Apache HTTP Server].
