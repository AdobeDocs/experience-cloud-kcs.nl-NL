---
title: "Welke verzoeken AEM Dispatcher cache?"
description: Beschrijving
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS, AEM dispatcher, cache, AEM, HTTP request"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: "3/24/2023 1:06:15 PM"
article-published-by: Nayanika Chakravarty
article-published-date: "3/24/2023 2:31:44 PM"
version-number: 4
article-number: KA-17497
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=d604aea5-44ca-ed11-b597-6045bd006b25"
source-git-commit: 21e9e70213cff36b3052468d64f88136e92120a4
workflow-type: tm+mt
source-wordcount: '381'
ht-degree: 3%

---

# Welke verzoeken AEM Dispatcher cache?

## Beschrijving {#description}


<b>Omgeving</b>

AEM Dispatcher 4.3.3

<b>Probleem</b>

Dit artikel bepaalt waarom de HTTP- verzoek/reactie niet in het voorgeheugen onder wordt gebracht door de AEM Dispatcher.


## Resolutie {#resolution}


De documentatie behandelt de belangrijkste scenario&#39;s die het geheime voorgeheugen-vermogen van verzoeken en reacties beïnvloeden die door de AEM module van de Verzender gaan. Niet alle regels voor het cachegeheugen worden behandeld.

<b>HTTP-aanvraagregels en -regels voor caching</b>

Een HTTP-aanvraag kan alleen door de verzender in de cache worden geplaatst als deze voldoet aan de volgende regels:

1. URL is absoluut (werkt niet met . of ..), heeft een bestandsextensie en de bestandsnaam in de URL werkt als een bestand op het bestandssysteem.

   Verwante logberichten:


   ```
   URI not canonical: %s.
   
   Unable to map URI to file: %s.
   
   cache file path too long
   
   temporary file path too long
   
   request URL has no extension
   ```



   Voorbeelden:


   | `/content/test` | `not cached` |
   | --- | --- |
   | `/content/test.html` | `cached` |


2. Er worden geen schuine strepen weergegeven na de eerste bestandsextensie.

   Verwante logberichten:


   ```
   request URL has trailing slash
   ```



   Voorbeelden:


   | `/content/test.html/` | `not cached` |
   | --- | --- |
   | `/content/test.html/foo.jpg` | `not cached` |
   | `/content/test.html` | `cached` |


3. De methode maakt gebruik van HTTP GET of HEAD.

   Verwante logberichten:


   ```
   request method is neither GET nor HEAD
   ```



   Voorbeelden:


   | `HEAD /content/test.html HTTP/1.1` | `cached` |
   | --- | --- |
   | `GET /content/dam/test.jpg HTTP/1.1` | `not cached` |
   | `POST /content/test.html HTTP/1.1` | `not cached` |


4. Het verzoek wordt ontkend door /CACHE = /REGELS die in de verzender worden bepaald. ELKE CONFIGURATIE VAN DE LANDBOUW.
Verwante logberichten:


   ```
   URI not  in cache rules: %s request URL not in cache rules
   ```



   Voorbeelden:


   | <br><br>    ```<br>    Farm has /cache = /rules and a request is received for /content/test.html    /cache    {     ...     /rules     {      /0001 {      type "deny"      glob "*"      }     }    }<br>    ```<br><br> | `not cached` |
   | --- | --- |
   | <br><br>    ```<br>    Farm has /cache = /rules and a request is received for /content/test.html    /cache    {     ...     /rules     {      /0001 {      type "allow"      glob "*"      }     }    }<br>    ```<br><br> | `cached` |


5. De HTTP-aanvraag bevat geen machtigingsheader of bevat de header, maar /ALLOWAUTHORIZED is ingesteld op 1 in de FARM CONFIGURATION.
Verwante logberichten:


   ```
   request contains authorization
   ```



   Voorbeelden:


   | <br><br>    ```<br>    HTTP Request:        GET /content/test.html HTTP/1.1    Authorization: Basic YWxhZGRpbjpvcGVuc2VzYW1l    dispatcher.any farm /cache = /allowAuthorized configuration:    /cache {     /allowAuthorized “0”    }<br>    ```<br><br> | `not cached` |
   | --- | --- |
   | HTTP-aanvraag:<br><br>    ```<br>    GET /content/test.html HTTP/1.1<br>    Cookie: authorization=YWxhZGRpbjpvcGVuc2VzYW1l<br>    <br>    dispatcher.any farm /cache = /allowAuthorized configuration:<br>    <br>    /cache {<br>      <br>     /allowAuthorized “0”<br>    }<br>    ```<br><br> | niet in cache geplaatst |
   | HTTP-aanvraag:<br><br>    ```<br>    GET /content/test.html HTTP/1.1<br>    Cookie: login-token=…<br>    <br>    dispatcher.any farm /cache = /allowAuthorized configuration:<br>    <br>    /cache {<br>      <br>     /allowAuthorized “1”<br>    }<br>    ```<br><br> | caching |


6. Er is een parameter QUERYSTRING in URL en de parameter wordt toegestaan om via de CONFIGURATIE van FARM /IGNOREURLPARAMS worden genegeerd.

   Verwante logberichten:


   ```
   request contains a query string
   ```



   Voorbeelden:


   | HTTP-aanvraag:<br><br>    ```<br>    GET /content/test.html?test=1 HTTP/1.1<br>    Farm /cache configuration:<br>    <br>    /ignoreUrlParams {<br>     /0001 { /type “allow” /glob “*” }<br>    }<br>    ```<br><br> | caching |
   | --- | --- |
   | HTTP-aanvraag:<br><br>    ```<br>    GET /content/test.html?test=1 HTTP/1.1<br>    Farm /cache configuration:<br>    <br>    /ignoreUrlParams {<br>     /0001 { /type “deny” /glob “*” } <br>      <br>     /0001 { /type “allow” /glob “test” }<br>    }<br>    ```<br><br> | caching |
   | HTTP-aanvraag:<br><br>    ```<br>    GET /content/test.html?test=1 HTTP/1.1<br>    dispatcher.any farm /cache = /allowAuthorized configuration:<br>    <br>    /ignoreUrlParams {<br>    <br>     /0001 { /type “deny” /glob “*” } <br>      <br>     /0001 { /type “allow” /glob “q” }<br>    }<br>    ```<br><br> | niet in cache geplaatst |




<b>HTTP-regels voor reacties en caching:</b>



De HTTP-reactie die door AEM wordt geretourneerd, is cacheable als aan de volgende criteria wordt voldaan:

1. De verzender kan 200 OK-antwoorden van een van de gedefinieerde RENDERS verzenden en ontvangen.

   <b>Opmerking:</b> Indien niet [/timeout](https://experienceleague.adobe.com/docs/experience-manager-dispatcher/using/configuring/dispatcher-configuration.html?lang=en) wordt geplaatst op /renders of het wordt geplaatst aan 0 dan zou het voor altijd op een verbinding aan de AEM instantie wachten zelfs als de instantie neer is.
Verwante logberichten:


   ```
   Unable to send request to remote server. Unable to receive response from remote server. Remote server returned: %s No backend available.
   ```



   Voorbeelden:


   | HTTP-aanvraag:<br><br>    200 OK | caching |
   | --- | --- |
   | HTTP-aanvraag:<br><br>    404 pagina niet gevonden | niet in cache geplaatst |


2. Geen van deze responsheaders is aanwezig in de reactie:

   - `Dispatcher: no-cache`
   - `Cache-control: no-cache`
   - `Pragma: no-cache`

   Verwante logberichten:


   ```
   Backend forbids caching: %s, sent: %s" response contains no_cache
   ```



   Voorbeelden:


   | HTTP-respons:<br><br>    200 OK<br><br>    Dispatcher: geen cache | niet in cache geplaatst |
   | --- | --- |
   | HTTP-respons:<br><br>    200 OK<br><br>    Cachebeheer: geen cache | niet in cache geplaatst |
   | HTTP-respons:<br><br>    200 OK<br><br>    Pragma: geen cache | niet in cache geplaatst |
   | HTTP-respons:<br><br>    200 OK | caching |


3. Waarde voor lengte van inhoud is groter dan BYTES voor NUL.
Verwante logberichten:


   ```
   response content length is zero
   ```



   Voorbeelden:


   | HTTP-respons:<br><br>    200 OK<br><br>    Content-Length: 0 | niet in cache geplaatst |
   | --- | --- |
   | HTTP-respons:<br><br>    200 OK<br><br>    Content-Length: 3120 | caching |



