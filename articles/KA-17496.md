---
title: Ongebruikelijke groei van opslagruimten analyseren
description: Beschrijving
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager 6.4,Experience Manager 6.5
keywords: KCS
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Roxann McGlumphy
article-created-date: 10/21/2021 9:42:02 PM
article-published-by: Cedric Latimier
article-published-date: 1/18/2022 2:45:04 PM
version-number: 1
article-number: KA-17496
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=6654cfb6-b732-ec11-b6e5-000d3a5ba97a
exl-id: 51d503fe-3da6-4cfc-a8c5-95f80da51ae8
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '524'
ht-degree: 0%

---

# Ongebruikelijke groei van opslagruimten analyseren

## Beschrijving


Het schijfgebruik neemt abnormaal en snel toe op een AEM server.
<br><br><br><br>Oorzaak<br><br><br><br><br><br>
Vele dingen kunnen ongewone verhogingen van schijfgebruik veroorzaken.  Enkele mogelijke oorzaken:

1. Correct onderhoud is niet uitgevoerd op het systeem.  Zie [dit artikel](https://helpx.adobe.com/experience-manager/kb/AEM6-Maintenance-Guide.html) voor meer informatie over verschillende onderhoudsactiviteiten van het systeem.
2. AEM of de toepassing maakt een zeer groot aantal knooppunten of updates voor knoopeigenschappen.  Dit kan te wijten zijn aan een verkeerde configuratie of een fout in de toepassingscode.  Aangezien de teeropslag in eikenhout alleen in de toevoegmodus werkt, draagt het herhaaldelijk opslaan van knooppunten verder bij tot een buitensporige groei van de opslagplaats.
3. Zeer grote bestanden zijn geüpload naar AEM Assets of pakketbeheer.
4. Foutopsporing of tracering is ingeschakeld.



## Resolutie

A. Als AEM wordt uitgevoerd en er voldoende schijfruimte is<br><br><br><br> <br><br>1. TRACE-LOGGING VOOR OAK SCHRIJVEN CONFIGUREREN<br><br><br><br> <br><br>Als AEM nog loopt, kunnen wij een zuiveringsregistreerapparaat toelaten om ons te vertellen welke bewaarplaatswegen worden geschreven aan.  Installeer het onderstaande logconfiguratiepakket voor het bijgevoegde logbestand of voer de volgende stappen uit om dit logger in te schakelen:
1. Ga naar <b>*http://aemhost:port*/system/console/slinglog</b>
2. Klik op <b>[!UICONTROL Add new Logger]</b>
3. Een logger configureren: <b>[!UICONTROL Log File]: `logs/repgrowth.log`</b>, <b>[!UICONTROL Log Level]: `trace`</b>, <b>[!UICONTROL Logger]:</b> <b>`org.apache.jackrabbit.oak.jcr.operations.writes`</b>


DOWNLOADEN
[Bestand ophalen](https://helpx.adobe.com/content/dam/help/en/experience-manager/kb/analyze-unusual-repository-growth/jcr:content/main-pars/download/log_repository_growth-1.zip "log_repository_growth-1.zip") <br><br>This Package contains the required configuration for the logging write session for Oak. Installeer dit pakket via de CRX Package Manager. Na de periode van de monitor dient u het pakket te verwijderen.<br><br><br><br><br><br><br><br> <br><br><br><br><br><br> <br><br><br><br><br><br><br><br><br>
Let op:

- Het logboek omvat informatie betreffende alle schrijft en zittingsdetails.  Als u dit registreerapparaat gebruikt, zorg dan ervoor u voldoende schijfruimte hebt.
- Verwijder het logboekconfiguratiepakket of verwijder de logboekconfiguratie na een korte periode van het hebben van dit toegelaten om verder gebruik van schijfruimte te vermijden.



<br><br><br><br> <br><br>2. RAPPORT SCHIJFGEBRUIK UITVOEREN<br><br><br><br> <br><br>
U kunt ook gebruikmaken van de [!UICONTROL Disk Usage] verslag <b>*http://host:port*/etc/reports/diskusage.html</b>.Dit rapport toont de schijfruimte die door de weg van de bewaarplaats wordt gebruikt.  Het rapport is drillable, toelatend u om onderzeeërs ook te bekijken.
<br><br><br><br> <br><br>3. DREADDUMPEN VASTLEGGEN EN PROFILM UITVOEREN<br><br><br><br> <br><br>
Nadat u de <b>[repgrowth.log](https://helpx.adobe.com/experience-manager/kb/analyze-unusual-repository-growth.html#repgrowth)</b> om wat idee van te krijgen welke gegevens worden geschreven, kunnen wij informatie over welke code schrijven die gegevens door draaddumps te vangen en het in werking stellen van cpu profileren.

Zie deze artikelen:

- [CPU-profilering](https://helpx.adobe.com/experience-manager/kb/AnalyzeUsingBuiltInProfiler.html)
- [Verbindingsschroeven vastleggen](https://helpx.adobe.com/experience-manager/kb/TakeThreadDump.html)
- [Analyseren AEM thread-dumps](https://helpx.adobe.com/experience-manager/kb/thread-dump-analysis.html)

<br><br><br><br> <br><br>B. Als AEM is gestopt en/of er bijna geen schijfruimte meer is<br><br><br><br> <br><br>
Als u AEM moest stoppen om de groei van schijfruimte te vermijden, dan gebruik de bevelen hieronder om één of andere eerste analyse te doen.

Aan [!DNL Linux] platform, gebruiken <b>`du`</b> gebruiken om alle mappen onder weer te geven <b>`crx-quickstart`</b> met de samengevatte grootte van deze directory&#39;s:

`du -h --max-depth=2 crx-quickstart`

Gebruiken <b>`find`</b> en <b>`du`</b> opdrachten voor het zoeken naar onlangs gewijzigde bestanden en het ophalen van de bestandsgrootte:

`find crx-quickstart -type f -mtime 1 -exec du -hs {} \; -print`

Als u grote bestanden wilt zoeken in de datastore, kunt u combineren <b>`find`</b>, <b>`du`</b> en <b>`file`</b> opdrachten om bestanden te zoeken die groter zijn dan 100 MB in het dialoogvenster <b>`datastore`</b> en het bestandstype ervan automatisch identificeren:

`find crx-quickstart/repository/datastore -type f -size +100M -exec sh -c "du -hs \"{}\"; file \"{}\"" \;`

Als u merkt dat de groei voorkomt in de <b>`segmentstore`</b> en de onderstaande opdracht kan u helpen bij het schrijven van gegevens:

`strings data_xxxxxx.tar | egrep '.?/' | sed 's/.$//;s/.\//\//'`
