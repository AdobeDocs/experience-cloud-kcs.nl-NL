---
title: Geen update in ACS bij het verzamelen van PII-informatie
description: Beschrijving
solution: Campaign
product: Campaign
applies-to: Campaign Standard
keywords: KCS,pii acs push-bericht reageert native android ios
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Ananya Kuthiala
article-created-date: 5/6/2022 1:35:14 PM
article-published-by: Ananya Kuthiala
article-published-date: 5/6/2022 1:43:52 PM
version-number: 2
article-number: KA-14941
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=f3b0bc5a-41cd-ec11-a7b5-0022480b639b
exl-id: d7e699a3-7619-4ca5-82b1-ffd54fb456b9
source-git-commit: 6a23faae10364181be7dedc2f408f2ad8d8be3c9
workflow-type: tm+mt
source-wordcount: '306'
ht-degree: 0%

---

# Geen update in ACS bij het verzamelen van PII-informatie

## Beschrijving

Achtergrond - U hebt mogelijk pushmeldingen geïmplementeerd met een native SDK die veel wordt gebruikt voor iOS en [!DNL Android]. Je kunt ook een pushmelding van Adobe Campaign Standard maken en ontvangen

[https://aep-sdks.gitbook.io/docs/using-mobile-extensions/mobile-core/mobile-core-api-reference#collect-pii](https://aep-sdks.gitbook.io/docs/using-mobile-extensions/mobile-core/mobile-core-api-reference#collect-pii)


Uitgave - De lijst van de toepassingsabonnee wordt niet bijgewerkt met de informatie is gevormd in PII postback regel.

Hiervoor hebben we de code geïmplementeerd `ACPCore.collectPii({"myPii": "data"})`

- Bij de introductie hebben we de regel &#39;Mobile Core - Collect PII&#39; ingesteld als &#39;postback&#39;

- URL is geconfigureerd als `https://{%%camp-server%%}/rest/head/mobileAppV5/{%%pkey%%}/subscriptions/{%%mcid%%}`

- post body

```
{
  "marketingCloudId": "{%%mcid%%}",
  "cusCustomerNumber": "{%contextdata.customerNumber%}"
}
```

- veld in de geabonneerde app-record wordt aangeroepen `cusCustomerNumber`

- code die wordt uitgevoerd `ACPCore.collectPii({"cusCustomerNumber": "data"})`


## Resolutie


Er zijn twee problemen geconstateerd die zijn opgelost.



1 - De kaart die wordt verzonden is `contextdata` dat wij hebben gevormd zodat probeert SDK een gegeven te vinden genoemd `customerNumber` maar er is geen enkele reden waarom het is ingesteld op `cusCustomerNumber` In plaats daarvan wijzigen `ACPCore.collectPii({"cus.CustomerNumber": "data"})` tot `ACPCore.collectPii({"customerNumber": "data"})`

Zorg er ook voor dat het deel in deze code en de bovenstaande gemarkeerde tekst overeenkomen met deze code. Hieronder staat wat we hadden voor deze klant.

```
setTimeout(() = {
                  ACPCore.collectPii({"customerNumber": "data"});
                  console.log('collectPii');
                }, 2000);
```


2 - Nadat we dit hadden gewijzigd, konden we nog steeds geen gegevens zien die in-app-abonnementstabel werden opgeslagen. Gegevens worden dus vastgelegd via de [!DNL Charles] is voltooid en u ziet mogelijk het volgende probleem

```
{
    "marketingCloudId": "0000000000000000",
    "cus.CustomerNumber": "data"
}
```

RST-360011 Er is een fout opgetreden. Neem contact op met de beheerder.
`cusCustomerNumber` eigenschap is niet geldig voor de `nms:appSubscriptionRcp:appSubscriptionRcpDetail` resource.

Wanneer het bekijken van het gegevensbestand voor deze lijst, zien wij de volgende kolommen.



Tabel `public.nmsappsubscriptionrcp`

```
Column                      |           Type           | Collation | Nullable | Default

-----------------------------+--------------------------+-----------+----------+---------

iappsubscriptionrcpid       | integer                  |           | not null | 0

icreatedbyid                | integer                  |           | not null | 0

idisabled                   | smallint                 |           | not null | 0

imobileappid                | integer                  |           | not null | 0

imodifiedbyid               | integer                  |           | not null | 0

ipushplatform               | smallint                 |           | not null | 0

sdevicebrand                | character varying(128)   |           |          |

sdeviceid                   | character varying(128)   |           |          |

sdevicemanufacturer         | character varying(128)   |           |          |

sdevicemodel                | character varying(128)   |           |          |

sdevicename                 | character varying(128)   |           |          |

smarketingcloudid           | character varying(256)   |           |          |

ssystemlanguage             | character varying(128)   |           |          |

ssystemname                 | character varying(128)   |           |          |

ssystemversion              | character varying(128)   |           |          |

suserkey                    | character varying(128)   |           |          |

tscreated                   | timestamp with time zone |           |          |

tsdisabled                  | timestamp with time zone |           |          |

tslastmodified              | timestamp with time zone |           |          |

tsregistration              | timestamp with time zone |           |          |

scuscuscustomernumber       | character varying(127)   |           |          |

scusfirstname               | character varying(127)   |           |          |

scuslastname                | character varying(127)   |           |          |
```


Het ziet er nu uit als een veld niet overeenkomt. Wijzig de code van de berichttekst in lancering zoals hieronder en publiceer de veranderingen en verzocht om te testen en dientengevolge zou de kwestie moeten worden opgelost.

```
{
"marketingCloudId": "{%%mcid%%}",
"cusCus.CustomerNumber": "{%contextdata.customerNumber%}"
}
```
