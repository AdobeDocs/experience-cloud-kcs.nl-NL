---
title: Hoe te om een synchrone AEM index opnieuw te indexeren | AEM, eiken
description: Leer hoe u een synchrone AEM-index opnieuw kunt indexeren door de indexering naar een achtergrondthread te verzenden.
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS, hoe, Adobe Experience Manager, opnieuw index, synchrone AEM index, eiken
resolution: Resolution
internal-notes: 'Helpx Link: helpx.adobe.com/experience-manager/kb/how-to-reindex-a-synchronous-AEM-index-AEM-Oak.html'
bug: false
article-created-by: Nayanika Chakravarty
article-created-date: 4/8/2024 4:58:39 PM
article-published-by: Nayanika Chakravarty
article-published-date: 4/8/2024 5:19:14 PM
version-number: 4
article-number: KA-16460
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=d4db733c-c9f5-ee11-a1fe-6045bd006295
exl-id: 1209609f-84a9-4810-b7c8-1193b09f82d7
source-git-commit: 4f638ce38994f841fd2471d8a5a05de49ed8644a
workflow-type: tm+mt
source-wordcount: '436'
ht-degree: 0%

---

# Hoe te om een synchrone AEM index opnieuw te indexeren | AEM, eiken


Als u een synchrone AEM-index opnieuw wilt indexeren, kunt u de eigenschap voor opnieuw indexeren eenvoudig instellen op <b>*true</b>*. Nochtans, kan dit een instantie van het Eak veroorzaken om te hangen in welk geval u het indexeren naar een achtergronddraad moet verzenden. In dit artikel wordt uitgelegd hoe.

## Beschrijving {#description}


### Omgeving

Adobe Experience Manager

### Probleem

Hoe kan ik een synchrone Oak-index correct opnieuw indexeren zonder downtime te veroorzaken?


## Resolutie {#resolution}


Een synchrone index opnieuw indexeren door de eigenschap voor herindexering eenvoudig in te stellen op *true* resulteert in een synchrone bewerking die ertoe kan leiden dat een instantie Eak vastloopt.

U voorkomt deze situatie door indexering naar een achtergrondthread te sturen. Voer de onderstaande stappen uit:

<b><u>Stap 1: Opnieuw indexeren in een achtergrondthread</u></b>

1. De volgende eigenschappen instellen vanuit <b>CRXDE Lite</b> in de indexdefinitie voor de eigenschapindex die moet worden ingeschakeld voor asynchrone indexering:<br>


   ```
   /oak:index/<property index>
   reindex=true
   reindex-async=true
   ```


2. Om te bevestigen dat bovengenoemd de knoop verfrist, `async="async-reindex"` moeten worden vastgesteld.
3. De `startPropertyIndexAsyncReindex` op de `PropertyIndexAsyncReindex` MBean.<br>


   Dit zou de achtergrondbaan beginnen die naar dergelijke types van indexen zou zoeken.



   Na het aanroepen ziet u dat de loglijn opnieuw wordt samengesteld...
4. Wanneer het opnieuw indexeren is voltooid, wordt de herindexmarkering opnieuw ingesteld op *false*.
5. Herhaal stap 3 om de index weer in een synchronisatieindex te wijzigen. Als de asynchrone vlag niet wordt geschrapt, dan kan de boon veelvoudige tijden moeten worden aangehaald (dit kan gebeuren als er veranderingen die tegelijkertijd deze index beïnvloeden.)



   <b>Opmerking:</b> Alleen de `async="async-reindex"` zal worden verwijderd aangezien die controles die de indexering verbinden zullen gebeuren.

   De `reindex-async` eigenschap is alleen een configuratiemarkering die niet automatisch wordt gewijzigd.

   Het idee is dat u het eens voor de specifieke indexdefinities zou plaatsen die al toekomstig opnieuw indexeren controleren.

   Dat wordt dan verwacht dat het daar blijft en dan hoef je het niet meer aan te raken.


<b><u>Stap 2: Verwijder het controlepunt voor opnieuw indexeren (alleen AEM 6.2 en oudere versies)</u></b>

Tijdens het proces van asynchrone re-indexering, wordt een bewaarplaats controlepunt gecreeerd.
Zodra de het indexeren taak heeft voltooid, moet het worden vrijgegeven zoals hieronder beschreven, om vlotte Inzameling van het Afval van de Revisie later te verzekeren:

1. Open eerst de <b>CheckpointManager</b> MBean:<br>\
   Op MongoMK - [`/system/console/jmx/org.apache.jackrabbit.oak%3Aname%3DDocument+node+store+checkpoint+management%2Ctype%3DCheckpointManger`](http://localhost:4502/system/console/jmx/org.apache.jackrabbit.oak%3Aname%3DDocument+node+store+checkpoint+management%2Ctype%3DCheckpointManger)

   Op TarMK - [`/system/console/jmx/org.apache.jackrabbit.oak%3Aname%3DSegment+node+store+checkpoint+management%2Ctype%3DCheckpointManger`](http://localhost:4502/system/console/jmx/org.apache.jackrabbit.oak%3Aname%3DSegment+node+store+checkpoint+management%2Ctype%3DCheckpointManger)
2. De `listCheckpoints()` -bewerking.
3. Zoek de rij met controlepunten met de `name=async-reindex` eigenschap.
4. Kopieer de id-waarde naar het klembord:<br>\
   Op MongoMK ziet het er ongeveer als volgt uit: `r1234567aaaa-0-1`

   Op TarMK ziet het er ongeveer als volgt uit: `6eac07d0-fe27-4d16-82f8-6d5da4cefd67`
5. Open vervolgens het dialoogvenster `releaseCheckpoint()` -bewerking.
6. Plak de gekopieerde id als p1 en klik op <b>Invoeden</b>.
7. Met deze stap wordt het controlepunt vrijgegeven.
